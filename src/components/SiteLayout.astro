---
import BaseLayout from "../layouts/BaseLayout.astro";
import Navbar from "./Navbar.astro";
import Footer from "./Footer.astro";

const { title, description, ogImage } = Astro.props;
const currentPath = Astro.url.pathname;

// 由 astro.config.mjs 的 site 自動組 canonical
const canonicalUrl = Astro.site
  ? new URL(currentPath, Astro.site).toString()
  : undefined;
---

<BaseLayout title={title} description={description} canonicalUrl={canonicalUrl} ogImage={ogImage}>
  <Navbar currentPath={currentPath} />

  <main style="max-width: 1080px; margin: 0 auto; padding: 28px 16px;">
    <slot />
  </main>

  <Footer />
</BaseLayout>
